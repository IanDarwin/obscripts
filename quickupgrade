#!/bin/sh

# quickupdate -- quickly update base files from snapshot

REL=26				# "26" for OpenBSD 2.6, etc.
#ARCH=sparc
ARCH=i386

cd /usr/download/OpenBSD/${ARCH} || exit

DEST=/
#DEST=/export/dartboard/root

# NEVER include etc in this list, or you will die horribly!
BDIRS="base comp misc man"
XDIRS="xbase xfont xserv xshare"

#DIRS="${BDIRS}"
DIRS="${BDIRS} ${XDIRS}"
#DIRS="${XDIRS}"

for f in ${DIRS}
do
	echo ===== START $f
	(cd ${DEST} || exit; sudo tar xvzpf - ) < ${f}${REL}.tar.gz
done

if [ -f bsd ]; then
	cp bsd ${DEST}/nbsd

	cd ${DEST}
	if [ -f bsd -a -f nbsd ]; then
		mv bsd obsd
		mv nbsd bsd
	fi
fi
